import{a as F}from"./chunk-ZFYAJHXN.js";import{D as _,H as b,I as e,J as t,K as x,L as S,M as u,N as E,P as n,Q as s,V as C,W as h,aa as g,ba as D,ca as A,ia as B,n as d,o as v,u as m,y as p,z as f}from"./chunk-LMPACXM2.js";function I(o,r){if(o&1){let i=S();e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),C(5,"date"),t(),e(6,"td"),n(7),t(),e(8,"td",15)(9,"button",10),u("click",function(){let a=d(i).$implicit,c=E();return v(c.editEvent(a.id))}),n(10,"\u7F16\u8F91"),t(),e(11,"button",16),u("click",function(){let a=d(i).$implicit,c=E();return v(c.deleteEvent(a.id))}),n(12,"\u5220\u9664"),t()()()}if(o&2){let i=r.$implicit;m(2),s(i.title),m(2),s(h(5,3,i.event_date)),m(3),s(i.location)}}var k=class o{constructor(r,i){this.router=r;this.adminService=i}events=[];ngOnInit(){this.loadEvents()}loadEvents(){this.adminService.getEvents().subscribe({next:r=>this.events=r,error:r=>console.error("\u52A0\u8F7D\u6D3B\u52A8\u5931\u8D25:",r)})}goToAddEvent(){this.router.navigate(["/admin/events/add"])}filterEvents(){console.log("\u6267\u884C\u7B5B\u9009")}editEvent(r){this.router.navigate(["/admin/events/edit",r])}deleteEvent(r){confirm("\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u6D3B\u52A8\u5417\uFF1F")&&this.adminService.deleteEvent(r).subscribe({next:()=>{alert("\u5220\u9664\u6210\u529F"),this.loadEvents()},error:i=>console.error("\u5220\u9664\u5931\u8D25:",i)})}static \u0275fac=function(i){return new(i||o)(p(B),p(F))};static \u0275cmp=f({type:o,selectors:[["app-event-list"]],decls:38,vars:1,consts:[[1,"admin-header"],[1,"admin-nav"],["href","/admin/events",1,"active"],["href","/admin/registrations"],[1,"container"],[1,"page-title"],[1,"btn","btn-primary",3,"click"],[1,"filter-bar"],["type","text","placeholder","\u641C\u7D22\u6D3B\u52A8...",1,"form-control"],[1,"form-control"],[1,"btn","btn-outline",3,"click"],[1,"card"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"table-actions"],[1,"btn","btn-danger",3,"click"]],template:function(i,l){i&1&&(e(0,"header",0)(1,"h1"),n(2,"\u6D3B\u52A8\u7BA1\u7406\u7CFB\u7EDF"),t(),e(3,"nav",1)(4,"a",2),n(5,"\u6D3B\u52A8\u5217\u8868"),t(),e(6,"a",3),n(7,"\u62A5\u540D\u7BA1\u7406"),t()()(),e(8,"div",4)(9,"div",5)(10,"h2"),n(11,"\u6D3B\u52A8\u5217\u8868"),t(),e(12,"button",6),u("click",function(){return l.goToAddEvent()}),n(13,"+ \u6DFB\u52A0\u6D3B\u52A8"),t()(),e(14,"div",7),x(15,"input",8),e(16,"select",9)(17,"option"),n(18,"\u6240\u6709\u5206\u7C7B"),t(),e(19,"option"),n(20,"\u516C\u76CA\u73AF\u4FDD"),t()(),e(21,"button",10),u("click",function(){return l.filterEvents()}),n(22,"\u7B5B\u9009"),t()(),e(23,"div",11)(24,"div",12)(25,"table",13)(26,"thead")(27,"tr")(28,"th"),n(29,"\u6D3B\u52A8\u540D\u79F0"),t(),e(30,"th"),n(31,"\u65E5\u671F"),t(),e(32,"th"),n(33,"\u5730\u70B9"),t(),e(34,"th"),n(35,"\u64CD\u4F5C"),t()()(),e(36,"tbody"),_(37,I,13,5,"tr",14),t()()()()()),i&2&&(m(37),b("ngForOf",l.events))},dependencies:[A,g,D],encapsulation:2})};export{k as EventListComponent};
